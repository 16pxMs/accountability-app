(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),r=e.i(22016),n=e.i(71645),i=e.i(18566),l=e.i(3053);function s(e,t,r){if(r<=0)return"â€”";let n=t-e;if(n<=0)return"Goal reached âœ“";let i=Math.ceil(n/r);return 1===i?"1 month":`${i} months`}let o={wealth:{emergency:0,emergencyPct:0,car:0,carPct:0,travel:0,travelPct:0,projectedTotal:0,emergencyRemaining:"â€”",carRemaining:"â€”",travelRemaining:"â€”"}};function a(){let e,a,d,c,g=(0,i.useSearchParams)(),x=(0,i.useRouter)(),h=!!g.get("submitted"),[p,m]=(0,n.useState)(o),[y,f]=(0,n.useState)([]),[u,v]=(0,n.useState)(null),[j,S]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=()=>{let e=(0,l.loadData)();if(S(e),e&&e.weeks){m(function(e){if(!e||!e.months)return{wealth:{emergency:0,emergencyPct:0,car:0,carPct:0,travel:0,travelPct:0,projectedTotal:0,emergencyRemaining:"â€”",carRemaining:"â€”",travelRemaining:"â€”"}};let t=(0,l.getTotalEmergencyFund)(e),r=(0,l.getTotalCarFund)(e),n=Object.values(e.months).filter(e=>e.submitted).reduce((e,t)=>e+(t.travelFund||0),0),i=Object.values(e.months).sort((e,t)=>t.month.localeCompare(e.month))[0]||{emergencyFund:0,carFund:0,travelFund:0};return{wealth:{emergency:t,emergencyPct:Math.min(t/135e4*100,100),car:r,carPct:Math.min(r/15e5*100,100),travel:n,travelPct:Math.min(n/1500*100,100),projectedTotal:t,emergencyRemaining:s(t,135e4,i.emergencyFund??0),carRemaining:s(r,15e5,i.carFund??0),travelRemaining:s(n,1500,i.travelFund??0)}}}(e));let t=Object.values(e.weeks).sort((e,t)=>new Date(t.id).getTime()-new Date(e.id).getTime());f(t.filter(e=>e.submitted));let r=t[0];r&&(r.strategy||(r.strategy={leverage:[],decision:[],frontend:[],energy:0}),v(r))}};e(),window.addEventListener("storage-update",e);let t=()=>{e()};return window.addEventListener("focus",t),()=>{window.removeEventListener("storage-update",e),window.removeEventListener("focus",t)}},[]);let b=!!j?.months&&Object.values(j.months).some(e=>e.submitted),w=0===y.length&&!u&&!b,F=p.wealth.projectedTotal<4e5,B=e=>Math.round(e).toLocaleString("en-KE");return(0,t.jsxs)("main",{style:{maxWidth:"900px",margin:"0 auto",padding:"40px 24px 120px 24px"},children:[(0,t.jsxs)("header",{style:{marginBottom:"60px",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontSize:"3rem",fontWeight:800,marginBottom:"8px",color:"#111827",letterSpacing:"-0.02em",marginTop:"20px"},children:"Dashboard"}),(0,t.jsx)("p",{style:{color:"#6B7280",fontSize:"1.1rem",maxWidth:"500px",fontWeight:400,lineHeight:"1.6"},children:"Track your progress across leverage, health, and wealth. Review weekly outcomes and maintain your standards."})]}),(0,t.jsx)(r.default,{href:"/review",children:(0,t.jsx)("button",{className:"glass-panel",style:{padding:"14px 28px",borderRadius:"999px",background:"white",color:"#111827",border:"1px solid rgba(0,0,0,0.05)",fontWeight:700,cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.05)"},children:"Start weekly review"})})]}),w?(0,t.jsxs)("div",{className:"glass-panel",style:{padding:"60px",textAlign:"center"},children:[(0,t.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:600,color:"#111827"},children:"Offline"}),(0,t.jsx)("p",{style:{color:"#6B7280",marginTop:"8px"},children:"Start a review to bring the monitor online."})]}):(0,t.jsxs)(t.Fragment,{children:[u&&u.strategy&&(0,t.jsxs)("div",{style:{marginBottom:"60px"},children:[(0,t.jsx)("h3",{className:"text-label",style:{color:"#9CA3AF",marginBottom:"24px",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"This Week"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[(0,t.jsxs)("div",{className:"glass-panel",style:{padding:"24px",minHeight:"160px",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[(0,t.jsx)("span",{style:{color:"#9CA3AF",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:600},children:"Hiring Momentum"}),(0,t.jsx)("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:u.strategy.leverage&&u.strategy.leverage.length>0&&!u.strategy.leverage.includes("No progress this week")?"#10B981":"#E5E7EB"}})]}),(0,t.jsx)("div",{style:{marginTop:"auto"},children:(()=>{let e=(Array.isArray(u.strategy.leverage)?u.strategy.leverage:u.strategy.leverage?[u.strategy.leverage]:[]).filter(e=>"No progress this week"!==e);if(0===e.length)return(0,t.jsx)("div",{style:{color:"#D1D5DB",fontSize:"0.9rem",fontStyle:"italic"},children:"No hiring actions logged"});let r=e[0],n=e.length-1;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",marginBottom:n>0?"8px":"0"},children:[(0,t.jsx)("span",{style:{color:"#10B981",fontSize:"0.9rem",flexShrink:0},children:"âœ“"}),(0,t.jsx)("span",{style:{color:"#111827",fontSize:"0.9rem",lineHeight:"1.4"},children:r})]}),n>0&&(0,t.jsxs)("div",{style:{color:"#6B7280",fontSize:"0.85rem",marginLeft:"20px"},children:["+",n," more"]})]})})()})]}),(0,t.jsxs)("div",{className:"glass-panel",style:{padding:"24px",minHeight:"160px",display:"flex",flexDirection:"column"},children:[(0,t.jsx)("div",{style:{marginBottom:"16px"},children:(0,t.jsx)("span",{style:{color:"#9CA3AF",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:600},children:"Decision Ownership"})}),(0,t.jsx)("div",{style:{marginTop:"auto"},children:0===(e=(Array.isArray(u.strategy.decision)?u.strategy.decision:u.strategy.decision?[u.strategy.decision]:[]).filter(e=>"No major decisions"!==e)).length?(0,t.jsx)("div",{style:{color:"#D1D5DB",fontSize:"0.9rem",fontStyle:"italic"},children:"No decision ownership logged"}):(0,t.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[(0,t.jsx)("span",{style:{color:"#3B82F6",fontSize:"0.9rem",flexShrink:0},children:"âœ“"}),(0,t.jsx)("span",{style:{color:"#111827",fontSize:"0.9rem",lineHeight:"1.4"},children:e[0]})]})})]}),(0,t.jsxs)("div",{className:"glass-panel",style:{padding:"24px",minHeight:"160px",display:"flex",flexDirection:"column"},children:[(0,t.jsx)("div",{style:{marginBottom:"16px"},children:(0,t.jsx)("span",{style:{color:"#9CA3AF",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:600},children:"Build Output"})}),(0,t.jsx)("div",{style:{marginTop:"auto"},children:(a=Object.values(j?.weeks||{}).filter(e=>e.submitted).sort((e,t)=>new Date(t.id).getTime()-new Date(e.id).getTime()).slice(0,6).reverse(),c=(d=Array.isArray(u.strategy.frontend)?u.strategy.frontend:u.strategy.frontend?[u.strategy.frontend]:[]).length>0&&!d.includes("No frontend work"),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{display:"flex",alignItems:"flex-end",gap:"3px",height:"32px",marginBottom:"12px"},children:a.map((e,r)=>{let n=Array.isArray(e.strategy?.frontend)?e.strategy.frontend:e.strategy?.frontend?[e.strategy.frontend]:[],i=n.length>0&&!n.includes("No frontend work");return(0,t.jsx)("div",{style:{flex:1,height:i?"100%":"25%",background:"#E5E7EB",borderRadius:"2px"}},r)})}),c?(0,t.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[(0,t.jsx)("span",{style:{color:"#10B981",fontSize:"0.9rem",flexShrink:0},children:"âœ“"}),(0,t.jsx)("span",{style:{color:"#111827",fontSize:"0.9rem",lineHeight:"1.4"},children:d[0]})]}):(0,t.jsx)("div",{style:{color:"#D1D5DB",fontSize:"0.9rem",fontStyle:"italic"},children:"No build output logged"})]}))})]}),(0,t.jsxs)("div",{className:"glass-panel",style:{padding:"24px",minHeight:"160px",display:"flex",flexDirection:"column"},children:[(0,t.jsx)("div",{style:{marginBottom:"16px"},children:(0,t.jsx)("span",{style:{color:"#9CA3AF",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:600},children:"Training (Muay Thai)"})}),(0,t.jsxs)("div",{style:{marginTop:"auto"},children:[(0,t.jsx)("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",fontSize:"1.5rem"},children:[1,2].map(e=>{let r=(u?.strategy?.energy||0)>=e;return(0,t.jsx)("span",{style:{color:r?"#F59E0B":"#E5E7EB"},children:"â—"},e)})}),(0,t.jsxs)("div",{style:{fontSize:"0.9rem",color:"#6B7280"},children:[0===u.strategy.energy&&"No sessions logged",1===u.strategy.energy&&"1 of 2 sessions",2===u.strategy.energy&&"2 sessions completed"]})]})]})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"60px"},children:[(0,t.jsx)(r.default,{href:"/review?tab=monthly",style:{textDecoration:"none"},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[(0,t.jsx)("h3",{className:"text-label",style:{color:"#9CA3AF"},children:"Stability floor"}),(0,t.jsx)("span",{style:{fontSize:"0.8rem",color:"#6B7280"},children:"Update âž"})]})}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px"},children:[(0,t.jsxs)("div",{className:"glass-panel",style:{padding:"32px",position:"relative",overflow:"hidden"},children:[(0,t.jsx)("div",{style:{position:"absolute",left:`${4e5/135e4*100}%`,top:0,bottom:0,width:"2px",background:"rgba(0,0,0,0.05)",zIndex:0,pointerEvents:"none"}}),(0,t.jsx)("div",{className:"text-label",style:{marginBottom:"16px"},children:"Emergency Fund"}),(0,t.jsxs)("div",{style:{marginBottom:"4px"},children:[(0,t.jsx)("span",{style:{fontSize:"2.5rem",fontWeight:800,color:"#111827"},children:p.wealth.emergency.toLocaleString()}),(0,t.jsx)("span",{style:{fontSize:"1rem",color:"#9CA3AF",fontWeight:500,marginLeft:"6px"},children:"KES"})]}),(0,t.jsxs)("div",{style:{fontSize:"0.8rem",color:"#9CA3AF",marginBottom:"20px"},children:["of ",B(135e4)," KES"]}),(0,t.jsx)("div",{style:{width:"100%",height:"6px",background:"#F3F4F6",borderRadius:"3px",position:"relative",zIndex:1,overflow:"hidden"},children:(0,t.jsx)("div",{style:{width:`${p.wealth.emergencyPct}%`,height:"100%",background:"#10B981"}})}),(0,t.jsxs)("div",{style:{marginTop:"12px",fontSize:"0.8rem",color:"#6B7280",display:"flex",justifyContent:"space-between"},children:[(0,t.jsxs)("span",{children:[Math.round(p.wealth.emergencyPct),"%"]}),(0,t.jsx)("span",{children:"â€”"!==p.wealth.emergencyRemaining&&`~${p.wealth.emergencyRemaining} left`})]}),F&&(0,t.jsxs)("div",{style:{marginTop:"16px",fontSize:"0.8rem",color:"#6B7280",display:"flex",alignItems:"center",gap:"6px",background:"#F9FAFB",padding:"8px 12px",borderRadius:"8px"},children:[(0,t.jsx)("span",{children:"ðŸ”’"}),(0,t.jsx)("span",{children:"Lifestyle locked until 400k"})]})]}),(0,t.jsxs)("div",{className:"glass-panel",style:{padding:"32px"},children:[(0,t.jsx)("div",{className:"text-label",style:{marginBottom:"16px"},children:"Car Fund"}),(0,t.jsxs)("div",{style:{marginBottom:"4px"},children:[(0,t.jsx)("span",{style:{fontSize:"2.5rem",fontWeight:800,color:"#111827"},children:p.wealth.car.toLocaleString()}),(0,t.jsx)("span",{style:{fontSize:"1rem",color:"#9CA3AF",fontWeight:500,marginLeft:"6px"},children:"KES"})]}),(0,t.jsxs)("div",{style:{fontSize:"0.8rem",color:"#9CA3AF",marginBottom:"20px"},children:["of ",B(15e5)," KES"]}),(0,t.jsx)("div",{style:{width:"100%",height:"6px",background:"#F3F4F6",borderRadius:"3px",overflow:"hidden"},children:(0,t.jsx)("div",{style:{width:`${p.wealth.carPct}%`,height:"100%",background:"#3B82F6"}})}),(0,t.jsxs)("div",{style:{marginTop:"12px",fontSize:"0.8rem",color:"#6B7280",display:"flex",justifyContent:"space-between"},children:[(0,t.jsxs)("span",{children:[Math.round(p.wealth.carPct),"%"]}),(0,t.jsx)("span",{children:"â€”"!==p.wealth.carRemaining&&`~${p.wealth.carRemaining} left`})]})]}),(0,t.jsxs)("div",{className:"glass-panel",style:{padding:"32px"},children:[(0,t.jsx)("div",{className:"text-label",style:{marginBottom:"16px"},children:"Travel Buffer"}),(0,t.jsxs)("div",{style:{marginBottom:"4px"},children:[(0,t.jsx)("span",{style:{fontSize:"2.5rem",fontWeight:800,color:"#111827"},children:p.wealth.travel.toLocaleString()}),(0,t.jsx)("span",{style:{fontSize:"1rem",color:"#9CA3AF",fontWeight:500,marginLeft:"6px"},children:"USD"})]}),(0,t.jsxs)("div",{style:{fontSize:"0.8rem",color:"#9CA3AF",marginBottom:"20px"},children:["of ",B(1500)," USD"]}),(0,t.jsx)("div",{style:{width:"100%",height:"6px",background:"#F3F4F6",borderRadius:"3px",overflow:"hidden"},children:(0,t.jsx)("div",{style:{width:`${p.wealth.travelPct}%`,height:"100%",background:"#8B5CF6"}})}),(0,t.jsxs)("div",{style:{marginTop:"12px",fontSize:"0.8rem",color:"#6B7280",display:"flex",justifyContent:"space-between"},children:[(0,t.jsxs)("span",{children:[Math.round(p.wealth.travelPct),"%"]}),(0,t.jsx)("span",{children:"â€”"!==p.wealth.travelRemaining&&`~${p.wealth.travelRemaining} left`})]})]})]})]}),j&&j.months&&Object.keys(j.months).length>0&&(0,t.jsxs)("div",{style:{marginBottom:"60px"},children:[(0,t.jsx)("h3",{className:"text-label",style:{marginBottom:"16px",color:"#9CA3AF"},children:"Monthly Savings History"}),(0,t.jsxs)("div",{style:{background:"white",borderRadius:"24px",border:"1px solid rgba(0,0,0,0.05)",overflow:"hidden",boxShadow:"0 4px 6px -2px rgba(0,0,0,0.02)"},children:[(0,t.jsxs)("div",{style:{display:"flex",padding:"16px 32px",borderBottom:"1px solid #F3F4F6",background:"#F9FAFB"},children:[(0,t.jsx)("div",{style:{width:"30%",fontSize:"0.75rem",fontWeight:700,color:"#9CA3AF"},children:"MONTH"}),(0,t.jsx)("div",{style:{width:"25%",fontSize:"0.75rem",fontWeight:700,color:"#9CA3AF"},children:"EMERGENCY"}),(0,t.jsx)("div",{style:{width:"25%",fontSize:"0.75rem",fontWeight:700,color:"#9CA3AF"},children:"TRAVEL"}),(0,t.jsx)("div",{style:{width:"20%",fontSize:"0.75rem",fontWeight:700,color:"#9CA3AF"},children:"STATUS"})]}),Object.values(j.months).filter(e=>e.submitted).sort((e,t)=>t.month.localeCompare(e.month)).map(e=>{let r=(e.emergencyFund||0)>=5e4,n=(e.travelFund||0)>=250,i=r&&n;return(0,t.jsxs)("div",{style:{display:"flex",padding:"20px 32px",borderBottom:"1px solid #F3F4F6",alignItems:"center"},children:[(0,t.jsx)("div",{style:{width:"30%",fontWeight:600,fontSize:"0.9rem",color:"#4B5563"},children:((e,t)=>{let[r,n]=e.split("-"),i=new Date(parseInt(r),parseInt(n)-1,1).toLocaleDateString("en-US",{month:"short",year:"numeric"});if(t){let e=new Date(t).getDate();return`${i} ${e}${1===e||21===e||31===e?"st":2===e||22===e?"nd":3===e||23===e?"rd":"th"}`}return i})(e.month,e.submittedDate)}),(0,t.jsxs)("div",{style:{width:"25%",fontSize:"0.9rem",color:"#111827",fontWeight:500},children:[(e.emergencyFund||0).toLocaleString()," KES"]}),(0,t.jsxs)("div",{style:{width:"25%",fontSize:"0.9rem",color:"#111827",fontWeight:500},children:[(e.travelFund||0).toLocaleString()," USD"]}),(0,t.jsx)("div",{style:{width:"20%"},children:(0,t.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:700,padding:"4px 10px",borderRadius:"6px",background:i?"#ECFDF5":r||n?"#FFFBEB":"#FEF2F2",color:i?"#059669":r||n?"#D97706":"#DC2626"},children:i?"âœ“ MET":r||n?"PARTIAL":"DIDN'T MEET"})})]},e.month)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-label",style:{marginBottom:"16px",color:"#9CA3AF"},children:"History"}),(0,t.jsxs)("div",{style:{background:"white",borderRadius:"24px",border:"1px solid rgba(0,0,0,0.05)",overflow:"hidden",boxShadow:"0 4px 6px -2px rgba(0,0,0,0.02)"},children:[(0,t.jsxs)("div",{style:{display:"flex",padding:"16px 32px",borderBottom:"1px solid #F3F4F6",background:"#F9FAFB"},children:[(0,t.jsx)("div",{style:{width:"20%",fontSize:"0.75rem",fontWeight:700,color:"#9CA3AF"},children:"WEEK"}),(0,t.jsx)("div",{style:{width:"20%",fontSize:"0.75rem",fontWeight:700,color:"#9CA3AF"},children:"STATUS"}),(0,t.jsx)("div",{style:{width:"60%",fontSize:"0.75rem",fontWeight:700,color:"#9CA3AF"},children:"RECORDED OUTCOME"})]}),y.map((e,r)=>{let n=function(e){if(!e.strategy)return"On track";let t=e.strategy,r=t.energy,n=Array.isArray(t.leverage)?t.leverage:t.leverage?[t.leverage]:[],i=Array.isArray(t.frontend)?t.frontend:t.frontend?[t.frontend]:[],l=n.length>0&&!n.includes("No progress this week"),s=i.length>0&&!i.includes("No frontend work");return r>=2?l&&s?"On track":"Partial progress":"Do better"}(e),i="On track"===n,l="Partial progress"===n,s=e.strategy||{leverage:[],energy:0},o=Array.isArray(s.leverage)?s.leverage:s.leverage?[s.leverage]:[],a=o.length>0?o.join(", "):"No key outcomes",d=0===s.energy?"no training":1===s.energy?"min training":"training met";return(0,t.jsxs)("div",{style:{display:"flex",padding:"20px 32px",borderBottom:"1px solid #F3F4F6",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{width:"20%",fontWeight:600,fontSize:"0.9rem",color:"#4B5563"},children:["Week ",y.length-r]}),(0,t.jsx)("div",{style:{width:"20%"},children:(0,t.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:700,padding:"4px 10px",borderRadius:"6px",background:i?"#ECFDF5":l?"#FFFBEB":"#FEF2F2",color:i?"#059669":l?"#D97706":"#DC2626"},children:n.toUpperCase()})}),(0,t.jsxs)("div",{style:{width:"60%",color:"#6B7280",fontSize:"0.9rem"},children:[a,", ",d]})]},e.id)}),0===y.length&&(0,t.jsx)("div",{style:{padding:"32px",textAlign:"center",color:"#D1D5DB"},children:"No history recorded."})]})]})]}),h&&(0,t.jsx)("div",{style:{position:"fixed",inset:0,zIndex:100,background:"rgba(255,255,255,0.8)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsxs)("div",{className:"glass-panel",style:{padding:"48px",maxWidth:"400px",width:"90%",textAlign:"center",background:"white",border:"1px solid #E5E7EB",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,t.jsx)("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:"On track"===(g.get("status")||g.get("verdict"))?"ðŸ›¡ï¸":"âš–ï¸"}),(0,t.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:800,color:"#111827",marginBottom:"8px"},children:"Weekly review logged"}),(0,t.jsx)("p",{style:{color:"#6B7280",marginBottom:"32px"},children:"Status recorded based on outcomes and energy rules."}),(0,t.jsx)("button",{onClick:()=>{x.replace("/")},style:{width:"100%",padding:"16px",borderRadius:"999px",background:"#111827",color:"white",border:"none",fontWeight:700,cursor:"pointer"},children:"Done"})]})})]})}function d(){return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(a,{})})}e.s(["default",()=>d],52683)}]);